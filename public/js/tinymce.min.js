tinymce.init({
    // setup: function (ed) {
    //     ed.onSaveContent.add(function (ed, o) {
    //       o.content = o.content.replace(/&#39/g, '&apos');
    //     });
    // },
    menubar: false,
    selector:'textarea.richTextBox',
    skin: 'voyager',
    min_height: 600,
    resize: 'vertical',
    plugins: 'autoresize link, template, image, code, youtube, giphy, table, textcolor, codesample, autosave, image imagetools, wordcount, pagebreak',
    extended_valid_elements : 'input[id|name|value|type|class|style|required|placeholder|autocomplete|onclick]',
    file_browser_callback: function(field_name, url, type, win) {
            if(type =='image'){
              $('#upload_file').trigger('click');
            }
        },
    toolbar: 'formatselect bold italic forecolor aligncenter bullist numlist link image youtube giphy code codesample restoredraft pagebreak template emoticons',
    imagetools_toolbar: "rotateleft rotateright | flipv fliph | editimage imageoptions",
    convert_urls: false,
    image_caption: true,
    image_title: true,
    remove_linebreaks : false,
    // encoding: 'xml',
    autoresize_bottom_margin: 50,
    block_formats: 'Paragraph=p;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6;Pre=pre;code=code;blockquote=blockquote',
    element_format : 'html',
    extended_valid_elements : "textarea[cols|rows|disabled|name|readonly|class]",
    wordcount_countregex: /[\w\u2019\x27\-\u00C0-\u1FFF]+/g,
    autosave_ask_before_unload: true,
    autosave_interval: "20s",
    autosave_restore_when_empty: true,
    codesample_languages: [
        {text: 'HTML/XML', value: 'markup'},
        {text: 'JavaScript', value: 'javascript'},
        {text: 'CSS', value: 'css'},
        {text: 'PHP', value: 'php'},
        {text: 'MySQL', value: 'SQL'},
        {text: 'Git', value: 'Git'},
        {text: 'Ruby', value: 'ruby'},
        {text: 'Python', value: 'python'},
        {text: 'Java', value: 'java'},
        {text: 'C', value: 'c'},
        {text: 'C#', value: 'csharp'},
        {text: 'C++', value: 'cpp'},
    ],
    bbcode_dialect: "punbb",
    templates: [
        {title: 'Closing Text', description: 'Closing Text', content: 'My content'},
    ]
  });